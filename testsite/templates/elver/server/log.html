{% extends 'server_base.html' %}
{% load static %}
{% block title %}SERVER - 异常日志{% endblock %}
{% block page-title %}异常日志{% endblock %}

{% block server_tab %}
<li class="nav-item">
    <a  onclick="tab_click('monitor')" class="nav-link" data-bs-toggle="tab">
        <svg t="1636256853250" class="icon me-2" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17146" width="200" height="200"><path d="M128 128c-23.552 0-42.496 18.944-42.496 42.496v512c0 23.552 18.944 42.496 42.496 42.496h768c23.552 0 42.496-18.944 42.496-42.496v-512c0-23.552-18.944-42.496-42.496-42.496H128z m0-42.496h768c47.104 0 85.504 38.4 85.504 85.504v512c0 47.104-38.4 85.504-85.504 85.504H128c-47.104 0-85.504-38.4-85.504-85.504v-512c0-47.616 38.4-85.504 85.504-85.504z" p-id="17147"></path><path d="M846.336 487.424l-150.528-215.04c-2.56-4.096-4.608-6.656-7.168-9.728-4.608-4.608-9.216-6.656-14.336-6.656-5.12 0-10.24 2.048-14.336 6.656-3.584 4.096-3.584 5.12-7.168 9.728l-177.152 252.928-128-163.84c-8.192-10.24-19.968-10.752-28.16-5.632-4.608 3.072-6.656 5.632-9.728 9.728L167.936 573.44c-8.192 11.776-6.144 21.504 5.632 29.696 11.776 8.192 21.504 6.144 29.696-5.632L330.24 409.6l128.512 164.864c8.704 11.264 21.504 11.264 29.696 3.584 3.072-2.56 7.168-8.704 10.752-13.824l174.08-248.832 137.216 196.096c8.192 11.776 17.92 13.312 29.696 5.12 12.288-7.68 14.336-17.408 6.144-29.184zM149.504 896h725.504c14.336 0 21.504 7.168 21.504 21.504 0 14.336-7.168 21.504-21.504 21.504H149.504c-14.336 0-21.504-7.168-21.504-21.504 0-14.336 7.168-21.504 21.504-21.504z" p-id="17148"></path><path d="M362.496 725.504c14.336 0 21.504 7.168 21.504 21.504v170.496c0 14.336-7.168 21.504-21.504 21.504-14.336 0-21.504-7.168-21.504-21.504v-170.496c0.512-14.336 7.68-21.504 21.504-21.504zM661.504 725.504c14.336 0 21.504 7.168 21.504 21.504v170.496c0 14.336-7.168 21.504-21.504 21.504-14.336 0-21.504-7.168-21.504-21.504v-170.496c0-14.336 7.168-21.504 21.504-21.504z" p-id="17149"></path></svg>
        API监控
    </a>
</li>
<li class="nav-item">
    <a  onclick="tab_click('source')" class="nav-link" data-bs-toggle="tab">
        <svg t="1641637366430" class="icon me-2" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2926" width="200" height="200"><path d="M425.13897178 77.6792233H338.27273169V-9.18701678h86.86624009v86.86624008z m-347.45974848 521.18701677H-9.18701678v86.86624011h86.86624008v-86.86624011z m0-130.29675418H-9.18701678v86.8662401h86.86624008V468.56948589z m0-130.2967542H-9.18701678v86.86624009h86.86624008V338.27273169z m0-217.16299426c0-23.93811967 19.46633507-43.43051411 43.43051413-43.43051413h173.73248014V-9.18701678H121.10973743C49.13381039-9.18701678-9.18701678 49.15465787-9.18701678 121.10973743v173.73248015h86.86624008V121.10973743z m477.75129081-130.29675423H468.56948589v86.8662401h86.8662401V-9.18701678z m130.29154231 0h-86.8610282v86.8662401h86.8610282V-9.18701678z m-144.62418526 504.24322688c0-14.14501564-9.2927645-17.22001903-23.41693267-17.22001903h-20.18557317v34.41919059h20.18557317c14.20234621 0 23.41693266-3.00724909 23.41693267-17.19917156zM164.54546339 164.54546339h694.91949695v694.91949695H164.54546339V164.54546339z m436.14493126 373.33147199c0 41.09559627 23.79739918 60.9893047 64.59591886 60.98930472 39.74572188 0 64.72621561-19.85201347 64.72621561-60.98930473V445.40793488h-39.40173847v92.46378863c0 20.73281952-7.00475351 26.80464827-25.32447714 26.80464827-19.21095344 0-25.31926527-9.15725587-25.31926526-26.80464827V445.40793488h-39.27144173v92.46900049z m-142.5967678 57.80485202h39.40173847v-50.94081901h28.75909958c34.22113952 0 53.18713507-20.60252276 53.18713507-49.68997017 0-29.54088009-19.46633507-49.64306334-53.18713507-49.64306334H458.09362685v150.27385252z m-162.36539133-74.52453153c0 43.85788747 28.03464962 77.70898417 73.92516646 77.70898423 35.80033618 0 62.8603661-20.7380314 66.93083669-66.08130188h-38.25512704c-6.40538842 47.62606958-63.19392577 41.81483437-63.19392577-11.62768235 0-24.42803547 9.84001087-44.72305793 34.523428-44.72305788 13.32154017 0 25.02740053 8.05755129 27.48740325 24.8762563h38.25512703c-3.89847888-40.03758663-31.68295875-59.27459943-65.74253028-59.27459943-45.59865209 0.00521188-73.93037834 34.18465643-73.93037834 79.12140101z m650.5873293 34.27847012H1033.18701678V468.56948589h-86.87145196v86.8662401zM77.6792233 902.89026257v-173.7220564H-9.18701678V902.89026257c0 71.93423205 58.32082718 130.29675419 130.29675421 130.29675421h173.73248014v-86.86102821H121.10973743c-23.96417902 0-43.43051411-19.51324191-43.43051413-43.435726z m868.63634152 0c0 23.92248406-19.45591133 43.43572599-43.42530225 43.435726h-173.73248014V1033.18701678H902.89026257c71.98113888 0 130.29675419-58.36252214 130.29675421-130.29675421v-173.7220564h-86.87145196V902.89026257z m0-217.15778239H1033.18701678v-86.86624011h-86.87145196v86.86624011z m0-260.5935084H1033.18701678V338.27273169h-86.87145196v86.86624009zM902.89026257-9.18701678h-173.73248015v86.86624008H902.89026257c23.96939089 0 43.42530224 19.48718255 43.42530225 43.43051413v173.73248014H1033.18701678V121.10973743c0-71.95507954-58.31561531-130.29675419-130.29675421-130.29675421zM338.27273169 1033.18701678h86.86624009v-86.8610282H338.27273169V1033.18701678z m260.58829654 0h86.86102819v-86.8610282h-86.86102819V1033.18701678z m-130.29154234 0h86.8662401v-86.8610282H468.56948589V1033.18701678z" fill="#2c2c2c" p-id="2927"></path></svg>
        资源监控
    </a>
</li>
<li class="nav-item">
    <a  onclick="tab_click('log')" class="nav-link active" data-bs-toggle="tab">
        <svg t="1636253492914" class="icon me-2" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16258" width="200" height="200"><path d="M311.2 288H682v64H311.2zM311.2 480H682v64H311.2zM311.2 672H682v64H311.2z" fill="#47444F" p-id="16259"></path><path d="M960 512c0-59.4-39.5-109.1-92.7-123.4V192c0-52.9-41.6-96-92.7-96H218.5c-51.1 0-92.7 43.1-92.7 96v160H64v64h61.8v192H64v64h61.8v160c0 52.9 41.6 96 92.7 96h556.1c51.1 0 92.7-43.1 92.7-96V635.4c53.2-14.3 92.7-64 92.7-123.4zM774.6 864H218.5c-17 0-30.9-14.4-30.9-32V672h61.8v-64h-61.8V416h61.8v-64h-61.8V192c0-17.6 13.8-32 30.9-32h556.1c17 0 30.9 14.4 30.9 32v196.6c-53.2 14.3-92.7 64-92.7 123.4s39.5 109.1 92.7 123.4V832c0 17.6-13.8 32-30.9 32z m61.8-288c-34.1 0-61.8-28.7-61.8-64s27.7-64 61.8-64c34.1 0 61.8 28.7 61.8 64s-27.7 64-61.8 64z" fill="#47444F" p-id="16260"></path></svg>
        异常日志
    </a>
</li>
{% endblock %}
{% block server_tab_content %}
<div class="tab-pane active show">
    <div class="row mb-3">
        <div class="input-group" style="width: 15%">
            <div class="input-group-text">项目</div>
            <select class="select2-selection--single" data-placeholder="Choose one thing">
                <option>全部</option>
                <option>项目A</option>
                <option>项目B</option>
            </select>
        </div>
        <div class="input-group" style="width: 15%">
            <div class="input-group-text">等级</div>
            <select class="select2-selection--single" data-placeholder="Choose one thing" >
                <option>全部</option>
                <option>ERROR</option>
                <option>WORNING</option>
            </select>
        </div>
        <div class="input-group" style="width: 25%">
            <div class="input-group-text">接口</div>
            <select class="select2-selection--single" data-placeholder="Choose one thing"  >
                <option>全部</option>
                <option>user/get_user_info</option>
                <option>user/update_user_info</option>
            </select>
        </div>
        <div class="input-group" style="width: 20%">
            <div class="input-group-text">起始日期</div>
            <input type="date" class="form-control">
        </div>
        <div class="input-group" style="width: 20%">
            <div class="input-group-text">最后日期</div>
            <input type="date" class="form-control">
        </div>
        <div class="col-auto">
            <a  class="btn btn-white btn-icon" aria-label="Button">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="10" cy="10" r="7" /><line x1="21" y1="21" x2="15" y2="15" /></svg>
            </a>
        </div>
    </div>
    <div class="card">
    <table class="table card-table table-vcenter datatable" >
        <thead>
        <tr>
            <th style="width: 5%;">No.</th>
            <th style="width: 10%;">等级</th>
            <th style="width: 10%;">项目</th>
            <th style="width: 15%;">接口</th>
            <th>日志</th>
            <th style="width: 15%;">创建时间</th>
            <th ></th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td><span class="text-muted">11</span></td>
            <td><span class="badge bg-red">ERROR</span></td>
            <td>项目A</td>
            <td>user/get_user_info</td>
            <td>
                {{ value|truncatechars:40 }}...<label class="table-active" data-bs-toggle="modal" data-bs-target="#modal-scrollable">more</label>
            </td>
            <td>2021/10/10 12:00</td>
            <td>
                <a data-bs-toggle="modal" data-bs-target="#modal-apkinfo" class="btn btn-white w-100">请求报文</a>
            </td>
        </tr>
        <tr>
            <td><span class="text-muted">10</span></td>
            <td><span class="badge bg-yellow">WARNING</span></td>
            <td>项目B</td>
            <td>user/update_user_info</td>
            <td>
                {{ value|truncatechars:40 }}...<label class="table-active" data-bs-toggle="modal" data-bs-target="#modal-scrollable">more</label>
            </td>
            <td>2021/10/10 12:00</td>
            <td>
                <a id="apk_info" data-bs-toggle="modal" data-bs-target="#modal-apkinfo" class="btn btn-white w-100">
                    请求报文
                </a>
            </td>
        </tr>
        </tbody>
    </table>

    <div class="card-footer d-flex align-items-center">
        <p class="m-0 text-muted">Showing <span>1</span> to <span>8</span> of <span>16</span> entries</p>
        <ul class="pagination m-0 ms-auto">
            <li class="page-item disabled">
                <a class="page-link"  tabindex="-1" aria-disabled="true">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="15 6 9 12 15 18" /></svg>
                    prev
                </a>
            </li>
            <li class="page-item"><a class="page-link" >1</a></li>
            <li class="page-item active"><a class="page-link" >2</a></li>
            <li class="page-item"><a class="page-link" >3</a></li>
            <li class="page-item"><a class="page-link">...</a></li>
            <li class="page-item"><a class="page-link" >10</a></li>
            <li class="page-item">
                <a class="page-link" >
                    next
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="9 6 15 12 9 18" /></svg>
                </a>
            </li>
        </ul>
    </div>
    </div>
</div>

<div class="modal modal-blur fade" id="modal-scrollable" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">日志详情</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas
            eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
          <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue
            laoreet rutrum faucibus dolor auctor.</p>
          <p>Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl
            consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla.</p>
          <p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas
            eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
          <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue
            laoreet rutrum faucibus dolor auctor.</p>
          <p>Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl
            consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla.</p>
          <p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas
            eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
          <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue
            laoreet rutrum faucibus dolor auctor.</p>
          <p>Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl
            consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla.</p>
          <p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas
            eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
          <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue
            laoreet rutrum faucibus dolor auctor.</p>
          <p>Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl
            consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla.</p>
          <p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas
            eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
          <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue
            laoreet rutrum faucibus dolor auctor.</p>
          <p>Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl
            consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla.</p>
          <p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas
            eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
          <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue
            laoreet rutrum faucibus dolor auctor.</p>
          <p>Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl
            consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla.</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn me-auto" data-bs-dismiss="modal">关闭</button>
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal">复制</button>
        </div>
      </div>
    </div>
  </div>
{% endblock %}

{% block server_script %}
{% endblock %}
