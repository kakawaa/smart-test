{% extends 'base.html' %}
{% load static %}

{% block title %}APM Online{% endblock %}
{% block css %}

{% endblock %}
{% block admin_name %}<p>{{nickname}}</p>{% endblock %}

{% block breadcrumb %}
<!-- Content Header (Page header) -->
    <div class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1 class="m-0 text-dark">APM Online</h1>
          </div><!-- /.col -->
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a href="{% url 'quickit:dashboard' %}">Home</a></li>
              <li class="breadcrumb-item active">APM Online</li>
            </ol>
          </div><!-- /.col -->
        </div><!-- /.row -->
      </div><!-- /.container-fluid -->
    </div>
    <!-- /.content-header -->
{% endblock %}

{% block content %}
<!-- Main content -->
 <!-- /.card -->

<section class="content">
      <div class="container-fluid">
        <div class="card card-info card-outline">
 <form class="form-inline" style="margin: 20px 20px">
   <div class="form-group">
       <label class="control-label col-sm-12" style="">Project</label></div>
   <div class="form-group">
       <select class="select2" multiple="multiple" data-placeholder="Select a Project" style="width:100%" id="project">
           <option>VidMate</option>
           <option>VDM Video</option>
           <option>Private Vault</option>
           <option>Tranit</option>
       </select></div>
   <div class="form-group">
       <label class="control-label col-sm-12" style="">Version</label></div>
   <div class="form-group">
       <select class="select2" multiple="multiple" data-placeholder="Select a Version" style="width:100%" id="version">
       </select></div>

   <div class="form-group">
       <label class="control-label col-sm-12" style="">Date</label></div>
   <div class="form-group daterange">
       <input class="form-control" name="range_date" type="text" id="datetext">
       <i class="fa fa-calendar" aria-hidden="true"></i>
</div>

   <div class="form-group">
                          &nbsp;&nbsp;&nbsp;&nbsp<button id="summit_btn" class="btn  bg-gradient-primary" type="button">Search</button></div>
 </form>
</div>
        <!-- /.row -->

        <div class="row">
          <div class="col-12">
            <!-- Line chart -->
            <div class="card  card-outline">
              <div class="card-header">
                <h3 class="card-title">
                  <i class="far fa-chart-bar"></i>
                  Start Up Time
                </h3>

                <div class="card-tools">
                  <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i>
                  </button>
                </div>
              </div>
              <div class="card-body">
                <div id="container" style="height: 350px;width: 100%"></div>
              </div>
              <!-- /.card-body-->
            </div>
            <!-- /.card -->

          </div>
        </div>
        <!-- /.row -->
      </div><!-- /.container-fluid -->
    </section>

{% endblock %}



{% block script %}
<!-- Bootstrap -->
<!-- AdminLTE -->

<!-- OPTIONAL SCRIPTS -->
<script src="/static/AdminLTE-3.0.1/plugins/chart.js/Chart.min.js"></script>
<script src="/static/AdminLTE-3.0.1/dist/js/demo.js"></script>
<script src="/static/AdminLTE-3.0.1/dist/js/pages/dashboard3.js"></script>


<!-- FLOT CHARTS -->
<script src="/static/AdminLTE-3.0.1/plugins/flot/jquery.flot.js"></script>
<!-- FLOT RESIZE PLUGIN - allows the chart to redraw when the window is resized -->
<script src="/static/AdminLTE-3.0.1/plugins/flot-old/jquery.flot.resize.min.js"></script>
<!-- FLOT PIE PLUGIN - also used to draw donut charts -->
<script src="/static/AdminLTE-3.0.1/plugins/flot-old/jquery.flot.pie.min.js"></script>
<script src="{% static 'JS/apm_online.js' %}"> </script>
<!-- Calendar -->
<script>
    $(function() {
    $(".daterange input").each(function() {
        var $this = $(this);

        $this.daterangepicker({
            locale : {
                "format" : "YYYY-MM-DD",// 显示格式
                "separator" : " / ",// 两个日期之间的分割线
                "applyLabel" : "确定",
                "cancelLabel" : "取消",
                "fromLabel" : "开始",
                "toLabel" : "结束",
                "daysOfWeek" : [ "日", "一", "二", "三", "四", "五", "六" ],
                "monthNames" : [ "一月", "二月", "三月", "四月", "五月", "六", "七月", "八月", "九月", "十月", "十一月", "十二月" ],
                "firstDay" : 1
            },
        }, function(start, end, label) {
            // 点击确定后的事件，下面是为了bootstrap validate得校验，
            // 若未使用，可忽视
            if ($this.parents("form.required-validate").length > 0) {
                var $form = $this.parents("form.required-validate");

                var name = $this.attr("name");
                if ($form.length > 0) {
                    var data = $form.data('bootstrapValidator');
                    data.updateStatus(name, 'NOT_VALIDATED', null)
                    // Validate the field
                    .validateField(name);
                }
            }
        // 设置最小宽度，否则显示不全
        }).css("min-width", "210px").next("i").click(function() {
            // 对日期的i标签增加click事件，使其在鼠标点击时可以拉出日期选择
            $(this).parent().find('input').click();
        });
    });
});
</script>>
<style>
    /* 定位i标签在input标签内 */
.daterange i {
    position: absolute;
    bottom: 10px;
    right: 14px;
    top: auto;
    cursor: pointer;
}
.daterange {
    position: relative;
}
/* daterange i end */
</style>
{% endblock %}